2024-05-10 17:49:06,926 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 17:49:06,926 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 17:49:24,251 - INFO - Publishing message: {'text': 'Hello, world!'}
2024-05-10 17:49:24,251 - INFO - 127.0.0.1 - - [10/May/2024 17:49:24] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 17:50:08,617 - INFO - Simulating message subscription
2024-05-10 17:50:08,618 - INFO - 127.0.0.1 - - [10/May/2024 17:50:08] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 19:30:58,079 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 19:30:58,079 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 19:31:15,270 - INFO - Published message: Default Message
2024-05-10 19:31:15,271 - INFO - 127.0.0.1 - - [10/May/2024 19:31:15] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 19:31:38,852 - ERROR - Exception on /messages/subscribe [GET]
Traceback (most recent call last):
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/app/blueprints/message.py", line 24, in subscribe
    response = subscriber.pull(subscription_path, max_messages=10, return_immediately=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/google/pubsub_v1/services/subscriber/client.py", line 1698, in pull
    raise ValueError(
ValueError: If the `request` argument is set, then none of the individual field arguments should be set.
2024-05-10 19:31:38,855 - INFO - 127.0.0.1 - - [10/May/2024 19:31:38] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 19:33:36,702 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 19:33:36,702 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 19:33:48,702 - INFO - Published message: Default Message
2024-05-10 19:33:48,703 - INFO - 127.0.0.1 - - [10/May/2024 19:33:48] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 19:34:00,204 - INFO - Received message: Default Message
2024-05-10 19:34:00,324 - INFO - 127.0.0.1 - - [10/May/2024 19:34:00] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 19:39:23,485 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 19:39:23,485 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 19:40:23,963 - ERROR - Failed to receive message. Using default.
2024-05-10 19:40:23,963 - INFO - Publishing message: Default Message
2024-05-10 19:40:23,963 - INFO - 127.0.0.1 - - [10/May/2024 19:40:23] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 19:40:32,499 - INFO - Received message: Default Message
2024-05-10 19:40:32,619 - INFO - 127.0.0.1 - - [10/May/2024 19:40:32] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 19:41:49,891 - INFO - Publishing message: Hello, World
2024-05-10 19:41:49,892 - INFO - 127.0.0.1 - - [10/May/2024 19:41:49] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 19:42:00,372 - ERROR - Failed to subscribe and pull messages: 400 You have not specified an ack ID in the request.
2024-05-10 19:42:00,373 - INFO - 127.0.0.1 - - [10/May/2024 19:42:00] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 20:07:39,353 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 20:07:39,353 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 20:07:42,937 - ERROR - Failed to receive message. Using default. Received data: {"text": "Hello, world!"}
2024-05-10 20:07:42,937 - INFO - Publishing message: No Message!
2024-05-10 20:07:42,937 - INFO - 127.0.0.1 - - [10/May/2024 20:07:42] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 20:08:05,334 - INFO - No messages to acknowledge.
2024-05-10 20:08:05,335 - INFO - 127.0.0.1 - - [10/May/2024 20:08:05] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 20:14:05,832 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 20:14:05,832 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 20:14:11,124 - INFO - Publishing message: Hello, World
2024-05-10 20:14:11,124 - INFO - 127.0.0.1 - - [10/May/2024 20:14:11] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 20:14:32,410 - INFO - No messages to acknowledge.
2024-05-10 20:14:32,411 - INFO - 127.0.0.1 - - [10/May/2024 20:14:32] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 20:14:58,927 - INFO - No messages to acknowledge.
2024-05-10 20:14:58,928 - INFO - 127.0.0.1 - - [10/May/2024 20:14:58] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 20:17:27,464 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 20:17:27,464 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 20:17:31,786 - INFO - Publishing message: Hello, World
2024-05-10 20:17:31,786 - INFO - 127.0.0.1 - - [10/May/2024 20:17:31] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 20:17:55,057 - INFO - No messages to acknowledge.
2024-05-10 20:17:55,058 - INFO - 127.0.0.1 - - [10/May/2024 20:17:55] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 20:18:34,213 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 20:18:34,213 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 20:19:19,458 - INFO - Publishing message: Hello, World
2024-05-10 20:19:19,459 - INFO - 127.0.0.1 - - [10/May/2024 20:19:19] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 20:19:43,796 - INFO - Publishing message: Hello, World
2024-05-10 20:19:43,797 - INFO - 127.0.0.1 - - [10/May/2024 20:19:43] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 20:20:13,104 - INFO - No messages to acknowledge.
2024-05-10 20:20:13,106 - INFO - 127.0.0.1 - - [10/May/2024 20:20:13] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 20:25:07,414 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 20:25:07,414 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 20:25:11,625 - INFO - Publishing message: Hello, World
2024-05-10 20:25:12,000 - INFO - 127.0.0.1 - - [10/May/2024 20:25:12] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 20:25:23,898 - INFO - Acknowledged 1 messages.
2024-05-10 20:25:23,899 - INFO - 127.0.0.1 - - [10/May/2024 20:25:23] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-10 22:26:45,843 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 22:26:45,843 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 22:26:59,642 - ERROR - Exception on /messages/publish [POST]
Traceback (most recent call last):
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/app/blueprints/message.py", line 39, in publish
    timestamp = datetime.utcnow()
                ^^^^^^^^^^^^^^^
AttributeError: module 'datetime' has no attribute 'utcnow'
2024-05-10 22:26:59,644 - INFO - 127.0.0.1 - - [10/May/2024 22:26:59] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 22:27:51,039 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 22:27:51,039 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 22:27:56,130 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 22:27:57,195 - ERROR - Failed to save message to Firestore: 403 Cloud Firestore API has not been used in project massive-carrier-422819-k2 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/firestore.googleapis.com/overview?project=massive-carrier-422819-k2 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry. [links {
  description: "Google developers console API activation"
  url: "https://console.developers.google.com/apis/api/firestore.googleapis.com/overview?project=massive-carrier-422819-k2"
}
, reason: "SERVICE_DISABLED"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "consumer"
  value: "projects/massive-carrier-422819-k2"
}
]
2024-05-10 22:27:57,196 - INFO - 127.0.0.1 - - [10/May/2024 22:27:57] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 22:28:07,976 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-10 22:28:07,977 - INFO - 127.0.0.1 - - [10/May/2024 22:28:07] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 22:30:25,969 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 22:30:26,094 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 22:30:26,096 - INFO - 127.0.0.1 - - [10/May/2024 22:30:26] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 22:51:01,307 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 22:51:01,973 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 22:51:01,974 - INFO - 127.0.0.1 - - [10/May/2024 22:51:01] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 22:51:27,092 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 22:51:27,092 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 22:51:30,672 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 22:51:31,841 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 22:51:31,842 - INFO - 127.0.0.1 - - [10/May/2024 22:51:31] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 22:51:52,778 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-10 22:51:52,781 - INFO - 127.0.0.1 - - [10/May/2024 22:51:52] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 23:03:07,813 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:03:08,589 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:03:08,590 - INFO - 127.0.0.1 - - [10/May/2024 23:03:08] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:03:31,070 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:03:31,070 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:03:37,970 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:03:39,106 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:03:39,107 - INFO - 127.0.0.1 - - [10/May/2024 23:03:39] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:03:57,524 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-10 23:03:57,525 - INFO - 127.0.0.1 - - [10/May/2024 23:03:57] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 23:05:06,787 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:05:06,787 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:05:14,106 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:05:20,186 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:05:20,187 - INFO - 127.0.0.1 - - [10/May/2024 23:05:20] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:05:26,569 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-10 23:05:26,570 - INFO - 127.0.0.1 - - [10/May/2024 23:05:26] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 23:17:09,927 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:17:09,928 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:17:18,225 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:17:19,311 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:17:19,311 - INFO - 127.0.0.1 - - [10/May/2024 23:17:19] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:17:32,650 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-10 23:17:32,652 - INFO - 127.0.0.1 - - [10/May/2024 23:17:32] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 23:29:16,664 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:29:16,664 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:29:21,901 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:29:23,987 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:29:23,988 - INFO - 127.0.0.1 - - [10/May/2024 23:29:23] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:34:24,461 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:34:25,248 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:34:25,249 - INFO - 127.0.0.1 - - [10/May/2024 23:34:25] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:34:32,080 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:34:32,080 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:34:35,417 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:34:36,607 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:34:36,608 - INFO - 127.0.0.1 - - [10/May/2024 23:34:36] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:38:11,788 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:38:11,788 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:38:15,231 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:38:16,531 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:38:16,531 - INFO - 127.0.0.1 - - [10/May/2024 23:38:16] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:42:50,049 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:42:51,286 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:42:51,288 - INFO - 127.0.0.1 - - [10/May/2024 23:42:51] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:43:12,411 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:43:12,411 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:43:17,657 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:43:19,455 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:43:19,456 - INFO - 127.0.0.1 - - [10/May/2024 23:43:19] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:47:21,510 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:47:21,510 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:47:27,325 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:47:29,199 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:47:29,200 - INFO - 127.0.0.1 - - [10/May/2024 23:47:29] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:54:57,519 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:54:57,519 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:55:01,289 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:55:03,338 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:55:03,339 - INFO - 127.0.0.1 - - [10/May/2024 23:55:03] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:55:53,518 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:55:53,518 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:55:56,506 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:55:58,894 - ERROR - Failed to save message to Firestore: 404 The database (default) does not exist for project massive-carrier-422819-k2 Please visit https://console.cloud.google.com/datastore/setup?project=massive-carrier-422819-k2 to add a Cloud Datastore or Cloud Firestore database. 
2024-05-10 23:55:58,896 - INFO - 127.0.0.1 - - [10/May/2024 23:55:58] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-10 23:57:06,215 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-10 23:57:06,215 - INFO - [33mPress CTRL+C to quit[0m
2024-05-10 23:57:09,557 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:57:10,846 - INFO - Message saved to Firestore with ID: aJFF1ilDzVX93YqzR0L6
2024-05-10 23:57:10,847 - INFO - 127.0.0.1 - - [10/May/2024 23:57:10] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 23:58:30,539 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-10 23:58:30,541 - INFO - 127.0.0.1 - - [10/May/2024 23:58:30] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-10 23:58:36,958 - INFO - Message published to Pub/Sub: Hello, World
2024-05-10 23:58:37,154 - INFO - Message saved to Firestore with ID: nCQXAnwd1kTZ7D9xWmON
2024-05-10 23:58:37,155 - INFO - 127.0.0.1 - - [10/May/2024 23:58:37] "POST /messages/publish HTTP/1.1" 200 -
2024-05-10 23:58:43,837 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-10 23:58:43,838 - INFO - 127.0.0.1 - - [10/May/2024 23:58:43] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:07:05,746 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:07:05,746 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:07:07,934 - INFO - Message published to Pub/Sub: Hello, World
2024-05-11 00:07:08,510 - INFO - Message saved to Firestore with ID: TMjwOaHOvNjRiH3s2Axk
2024-05-11 00:07:08,510 - INFO - 127.0.0.1 - - [11/May/2024 00:07:08] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:07:12,200 - INFO - Received message: Hello, World
2024-05-11 00:07:12,200 - INFO - 127.0.0.1 - - [11/May/2024 00:07:12] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 00:13:04,443 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:13:04,443 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:13:08,523 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:13:09,159 - INFO - Message saved to Firestore with ID: 6omdGdXSTa6W32OyfCBV
2024-05-11 00:13:09,160 - INFO - 127.0.0.1 - - [11/May/2024 00:13:09] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:13:14,679 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:13:14,679 - INFO - 127.0.0.1 - - [11/May/2024 00:13:14] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:17:12,221 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:17:12,221 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:17:16,729 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:17:17,452 - INFO - Message saved to Firestore with ID: XJ8O91tLV9gVndyekHjX
2024-05-11 00:17:17,452 - INFO - 127.0.0.1 - - [11/May/2024 00:17:17] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:17:22,380 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:17:22,381 - INFO - 127.0.0.1 - - [11/May/2024 00:17:22] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:24:05,931 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:24:05,931 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:24:09,115 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:24:09,654 - INFO - Message saved to Firestore with ID: YJO1K3udYeAkFL5Pbu8s
2024-05-11 00:24:09,655 - INFO - 127.0.0.1 - - [11/May/2024 00:24:09] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:24:15,459 - ERROR - Failed to subscribe and pull messages: cannot access local variable 'msg' where it is not associated with a value
2024-05-11 00:24:15,460 - INFO - 127.0.0.1 - - [11/May/2024 00:24:15] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:26:06,628 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:26:06,629 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:26:08,827 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:26:09,451 - INFO - Message saved to Firestore with ID: dLom0uOXplEPKw1UOoNl
2024-05-11 00:26:09,451 - INFO - 127.0.0.1 - - [11/May/2024 00:26:09] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:26:13,352 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:26:13,353 - INFO - 127.0.0.1 - - [11/May/2024 00:26:13] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:26:46,477 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:26:46,477 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:26:48,709 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:26:49,326 - INFO - Message saved to Firestore with ID: v9uyeFLgRc2fEtVDkr0q
2024-05-11 00:26:49,327 - INFO - 127.0.0.1 - - [11/May/2024 00:26:49] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:26:50,878 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:26:50,879 - INFO - 127.0.0.1 - - [11/May/2024 00:26:50] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:27:17,438 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:27:17,438 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:27:21,551 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:27:22,288 - INFO - Message saved to Firestore with ID: p43M0oud48aZGRxHyTO5
2024-05-11 00:27:22,288 - INFO - 127.0.0.1 - - [11/May/2024 00:27:22] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:27:26,395 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:27:26,396 - INFO - 127.0.0.1 - - [11/May/2024 00:27:26] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:28:13,106 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:28:13,106 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:28:15,630 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:28:16,136 - INFO - Message saved to Firestore with ID: vuAV7wKfZuqOHa7Yd7IK
2024-05-11 00:28:16,136 - INFO - 127.0.0.1 - - [11/May/2024 00:28:16] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:28:19,618 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:28:19,619 - INFO - 127.0.0.1 - - [11/May/2024 00:28:19] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:33:35,683 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:33:35,683 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:33:40,168 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:33:40,169 - INFO - 127.0.0.1 - - [11/May/2024 00:33:40] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:41:43,965 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:41:43,965 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:41:48,298 - INFO - Message published to Pub/Sub: How are you
2024-05-11 00:41:48,958 - INFO - Message saved to Firestore with ID: bamwCFsNm9G07XmbRunB
2024-05-11 00:41:48,959 - INFO - 127.0.0.1 - - [11/May/2024 00:41:48] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 00:41:53,494 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:41:53,495 - INFO - 127.0.0.1 - - [11/May/2024 00:41:53] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:42:09,528 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:42:09,528 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:42:19,051 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:42:19,052 - INFO - 127.0.0.1 - - [11/May/2024 00:42:19] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:42:39,433 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:42:39,433 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:42:42,514 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:42:42,515 - INFO - 127.0.0.1 - - [11/May/2024 00:42:42] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:43:10,885 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:43:10,885 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:43:16,832 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:43:16,833 - INFO - 127.0.0.1 - - [11/May/2024 00:43:16] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:43:30,247 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:43:30,247 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:43:33,973 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:43:33,975 - INFO - 127.0.0.1 - - [11/May/2024 00:43:33] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:44:01,318 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:44:01,318 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:44:04,246 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:44:04,247 - INFO - 127.0.0.1 - - [11/May/2024 00:44:04] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:44:28,816 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:44:28,816 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:44:32,271 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:44:32,272 - INFO - 127.0.0.1 - - [11/May/2024 00:44:32] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 00:58:18,926 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 00:58:18,926 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 00:58:28,875 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 00:58:28,877 - INFO - 127.0.0.1 - - [11/May/2024 00:58:28] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 01:00:15,714 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 01:00:15,714 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 01:00:21,794 - ERROR - Exception on /messages/publish [POST]
Traceback (most recent call last):
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/app/blueprints/message.py", line 33, in publish
    json_data = json.dumps(data)
                ^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/json/__init__.py", line 41, in dumps
    return current_app.json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.3/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.3/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.3/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/json/provider.py", line 121, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type bytes is not JSON serializable
2024-05-11 01:00:21,797 - INFO - 127.0.0.1 - - [11/May/2024 01:00:21] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 02:25:02,385 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 02:25:02,385 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 02:25:09,217 - ERROR - Failed to publish message: type object 'datetime.datetime' has no attribute 'datetime'
2024-05-11 02:25:09,218 - INFO - 127.0.0.1 - - [11/May/2024 02:25:09] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 02:25:34,049 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 02:25:34,049 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 02:25:36,087 - INFO - 127.0.0.1 - - [11/May/2024 02:25:36] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 02:26:54,518 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 02:26:54,522 - INFO - 127.0.0.1 - - [11/May/2024 02:26:54] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 02:42:31,206 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 02:42:31,209 - INFO - 127.0.0.1 - - [11/May/2024 02:42:31] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 02:45:34,457 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 02:45:34,461 - INFO - 127.0.0.1 - - [11/May/2024 02:45:34] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 02:45:48,278 - INFO - 127.0.0.1 - - [11/May/2024 02:45:48] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 02:45:57,652 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 02:45:57,653 - INFO - 127.0.0.1 - - [11/May/2024 02:45:57] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 02:48:24,088 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 02:48:24,089 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 02:48:27,115 - INFO - Message published to Pub/Sub: 11108946884585394
2024-05-11 02:48:27,719 - INFO - Message saved to Firestore with ID: bI4kGbuviWYuVRA5aHGG
2024-05-11 02:48:27,719 - INFO - 127.0.0.1 - - [11/May/2024 02:48:27] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 02:48:35,095 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 02:48:35,097 - INFO - 127.0.0.1 - - [11/May/2024 02:48:35] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 02:54:44,860 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 02:54:44,861 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 02:54:49,306 - INFO - Message published to Pub/Sub: 11108897386683327
2024-05-11 02:54:49,926 - INFO - Message saved to Firestore with ID: 9VM5EmIYxKi4cTseIukw
2024-05-11 02:54:49,926 - INFO - 127.0.0.1 - - [11/May/2024 02:54:49] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 02:54:53,382 - INFO - Processed message: {'message': 'How are you', 'receiver_id': 'muhailah', 'sender_id': 'atheer', 'timestamp': '2024-05-11T02:54:48.813908'}
2024-05-11 02:54:53,383 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 02:54:53,384 - INFO - 127.0.0.1 - - [11/May/2024 02:54:53] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 02:55:27,080 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 02:55:27,080 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 02:55:30,730 - INFO - Message published to Pub/Sub: 11108859584485815
2024-05-11 02:55:31,443 - INFO - Message saved to Firestore with ID: SKHchjMnoPxIc0UEGHaf
2024-05-11 02:55:31,443 - INFO - 127.0.0.1 - - [11/May/2024 02:55:31] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 02:55:37,718 - INFO - Processed message: {'message': 'How are you', 'receiver_id': 'muhailah', 'sender_id': 'atheer', 'timestamp': '2024-05-11T02:54:48.813908'}
2024-05-11 02:55:37,719 - INFO - Processed message: {'message': 'How are you', 'receiver_id': 'muhailah', 'sender_id': 'atheer', 'timestamp': '2024-05-11T02:55:30.343407'}
2024-05-11 02:55:37,719 - INFO - Processed message: {'message': 'How are you', 'receiver_id': 'muhailah', 'sender_id': 'atheer', 'timestamp': '2024-05-11 02:45:48.277712'}
2024-05-11 02:55:37,719 - ERROR - Failed to subscribe and pull messages: module 'flask.json' has no attribute 'JSONDecodeError'
2024-05-11 02:55:37,720 - INFO - 127.0.0.1 - - [11/May/2024 02:55:37] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 02:56:57,741 - INFO - Processed message: {'message': 'How are you', 'receiver_id': 'muhailah', 'sender_id': 'atheer', 'timestamp': '2024-05-11 02:45:48.277712'}
2024-05-11 02:56:57,867 - INFO - Acknowledged 1 messages.
2024-05-11 02:56:57,868 - INFO - 127.0.0.1 - - [11/May/2024 02:56:57] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 03:01:28,893 - INFO - 127.0.0.1 - - [11/May/2024 03:01:28] "[31m[1mPOST /auth/login HTTP/1.1[0m" 401 -
2024-05-11 03:01:55,652 - INFO - 127.0.0.1 - - [11/May/2024 03:01:55] "[31m[1mPOST /auth/login HTTP/1.1[0m" 415 -
2024-05-11 03:02:16,434 - INFO - 127.0.0.1 - - [11/May/2024 03:02:16] "[31m[1mPOST /auth/login HTTP/1.1[0m" 415 -
2024-05-11 03:18:10,148 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 03:18:10,148 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 03:18:39,119 - INFO - 127.0.0.1 - - [11/May/2024 03:18:39] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 17:01:52,710 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 17:01:52,710 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 17:01:56,128 - INFO - 127.0.0.1 - - [11/May/2024 17:01:56] "[31m[1mPOST /auth/login HTTP/1.1[0m" 401 -
2024-05-11 17:15:55,781 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-05-11 17:15:55,781 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 17:16:02,579 - INFO - 127.0.0.1 - - [11/May/2024 17:16:02] "[31m[1mPOST /auth/login HTTP/1.1[0m" 401 -
2024-05-11 17:40:35,055 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 17:40:35,055 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 17:43:26,037 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 17:43:26,037 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 17:43:46,083 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 17:43:46,083 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 17:44:17,348 - INFO - 127.0.0.1 - - [11/May/2024 17:44:17] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 17:51:17,074 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 17:51:17,074 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 17:51:24,761 - INFO - 127.0.0.1 - - [11/May/2024 17:51:24] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 17:51:36,967 - ERROR - Failed to publish message: 'user_id'
2024-05-11 17:51:36,968 - INFO - 127.0.0.1 - - [11/May/2024 17:51:36] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 18:10:35,138 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 18:10:35,138 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 18:10:40,291 - INFO - 127.0.0.1 - - [11/May/2024 18:10:40] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 18:11:02,302 - INFO - 127.0.0.1 - - [11/May/2024 18:11:02] "[31m[1mPOST /messages/publish HTTP/1.1[0m" 401 -
2024-05-11 18:11:40,911 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 18:11:40,911 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 18:11:49,077 - INFO - 127.0.0.1 - - [11/May/2024 18:11:49] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 18:11:57,543 - INFO - 127.0.0.1 - - [11/May/2024 18:11:57] "[31m[1mPOST /messages/publish HTTP/1.1[0m" 401 -
2024-05-11 18:12:26,224 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 18:12:26,225 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 18:12:30,277 - INFO - 127.0.0.1 - - [11/May/2024 18:12:30] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 18:12:33,712 - ERROR - Exception on /messages/publish [POST]
Traceback (most recent call last):
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/app/blueprints/message.py", line 16, in publish
    print(session['user_id'])
          ~~~~~~~^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/sessions.py", line 84, in __getitem__
    return super().__getitem__(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'user_id'
2024-05-11 18:12:33,715 - INFO - 127.0.0.1 - - [11/May/2024 18:12:33] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 18:20:54,844 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 18:20:54,845 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 18:21:01,480 - INFO - 127.0.0.1 - - [11/May/2024 18:21:01] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 18:21:05,566 - ERROR - Exception on /messages/publish [POST]
Traceback (most recent call last):
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/app/blueprints/message.py", line 16, in publish
    print(session['user_id'])
          ~~~~~~~^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/sessions.py", line 84, in __getitem__
    return super().__getitem__(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'user_id'
2024-05-11 18:21:05,569 - INFO - 127.0.0.1 - - [11/May/2024 18:21:05] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 18:22:33,888 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 18:22:33,888 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 18:22:40,780 - INFO - 127.0.0.1 - - [11/May/2024 18:22:40] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 18:22:44,882 - INFO - 127.0.0.1 - - [11/May/2024 18:22:44] "[31m[1mPOST /messages/publish HTTP/1.1[0m" 401 -
2024-05-11 18:29:50,601 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 18:29:50,601 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 18:29:55,792 - INFO - 127.0.0.1 - - [11/May/2024 18:29:55] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 18:29:59,519 - INFO - 127.0.0.1 - - [11/May/2024 18:29:59] "[31m[1mPOST /messages/publish HTTP/1.1[0m" 401 -
2024-05-11 21:07:34,819 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:07:34,819 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:07:45,655 - INFO - 127.0.0.1 - - [11/May/2024 21:07:45] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:07:56,458 - ERROR - Exception on /messages/publish [POST]
Traceback (most recent call last):
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/env/lib/python3.12/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/muhailah/chtcht/chtcht/app/blueprints/message.py", line 32, in publish
    token = request.headers.get('Authorization').split('Bearer ')[1]
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'split'
2024-05-11 21:07:56,461 - INFO - 127.0.0.1 - - [11/May/2024 21:07:56] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 21:11:51,649 - INFO - Message published to Pub/Sub: 11111303032633717
2024-05-11 21:11:52,268 - INFO - Message saved to Firestore with ID: SRpt746Lz698fyDJzdsI
2024-05-11 21:11:52,269 - INFO - 127.0.0.1 - - [11/May/2024 21:11:52] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 21:12:34,961 - INFO - 127.0.0.1 - - [11/May/2024 21:12:34] "[31m[1mPOST /messages/subscribe HTTP/1.1[0m" 405 -
2024-05-11 21:14:01,103 - INFO - 127.0.0.1 - - [11/May/2024 21:14:01] "POST /auth/logout HTTP/1.1" 200 -
2024-05-11 21:15:11,530 - INFO - 127.0.0.1 - - [11/May/2024 21:15:11] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:15:39,211 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:15:39,212 - INFO - 127.0.0.1 - - [11/May/2024 21:15:39] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:29:42,393 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:29:42,393 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:29:46,736 - INFO - 127.0.0.1 - - [11/May/2024 21:29:46] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:30:00,307 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:30:00,307 - INFO - 127.0.0.1 - - [11/May/2024 21:30:00] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:31:07,010 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:31:07,010 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:31:11,275 - INFO - 127.0.0.1 - - [11/May/2024 21:31:11] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:31:16,085 - INFO - 127.0.0.1 - - [11/May/2024 21:31:16] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 21:32:42,409 - INFO - 127.0.0.1 - - [11/May/2024 21:32:42] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 21:33:14,336 - INFO - 127.0.0.1 - - [11/May/2024 21:33:14] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 21:33:18,274 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:33:18,274 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:33:20,216 - INFO - 127.0.0.1 - - [11/May/2024 21:33:20] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:33:24,979 - INFO - 127.0.0.1 - - [11/May/2024 21:33:24] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 21:34:46,433 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:34:46,433 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:34:51,798 - INFO - 127.0.0.1 - - [11/May/2024 21:34:51] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:34:55,543 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:34:55,544 - INFO - 127.0.0.1 - - [11/May/2024 21:34:55] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:36:09,927 - INFO - 127.0.0.1 - - [11/May/2024 21:36:09] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 21:36:33,913 - INFO - 127.0.0.1 - - [11/May/2024 21:36:33] "POST /auth/logout HTTP/1.1" 200 -
2024-05-11 21:36:48,493 - INFO - 127.0.0.1 - - [11/May/2024 21:36:48] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:37:24,093 - INFO - Message published to Pub/Sub: 11111277243877408
2024-05-11 21:37:24,669 - INFO - Message saved to Firestore with ID: FX6RkUiy4amI1A88Wmc9
2024-05-11 21:37:24,670 - INFO - 127.0.0.1 - - [11/May/2024 21:37:24] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 21:37:35,495 - INFO - 127.0.0.1 - - [11/May/2024 21:37:35] "POST /auth/logout HTTP/1.1" 200 -
2024-05-11 21:37:44,142 - INFO - 127.0.0.1 - - [11/May/2024 21:37:44] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:37:56,687 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:37:56,687 - INFO - 127.0.0.1 - - [11/May/2024 21:37:56] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:38:27,678 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:38:27,678 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:38:31,854 - INFO - 127.0.0.1 - - [11/May/2024 21:38:31] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:38:35,489 - INFO - 127.0.0.1 - - [11/May/2024 21:38:35] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-11 21:39:11,714 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:39:11,714 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:39:18,422 - INFO - 127.0.0.1 - - [11/May/2024 21:39:18] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:39:23,524 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:39:23,525 - INFO - 127.0.0.1 - - [11/May/2024 21:39:23] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:50:37,383 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:50:37,383 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:50:40,146 - INFO - 127.0.0.1 - - [11/May/2024 21:50:40] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:50:44,288 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:50:44,288 - INFO - 127.0.0.1 - - [11/May/2024 21:50:44] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:51:40,443 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:51:40,443 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:51:47,998 - INFO - 127.0.0.1 - - [11/May/2024 21:51:47] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:51:57,199 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:51:57,200 - INFO - 127.0.0.1 - - [11/May/2024 21:51:57] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:52:23,534 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:52:23,534 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:52:25,968 - INFO - 127.0.0.1 - - [11/May/2024 21:52:25] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:52:29,336 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:52:29,337 - INFO - 127.0.0.1 - - [11/May/2024 21:52:29] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 21:53:22,837 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 21:53:22,838 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 21:53:44,978 - INFO - 127.0.0.1 - - [11/May/2024 21:53:44] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:54:34,927 - INFO - Message published to Pub/Sub: 11111419647217054
2024-05-11 21:54:35,469 - INFO - Message saved to Firestore with ID: 3D7WDeA8KWu0RV3cVcJi
2024-05-11 21:54:35,470 - INFO - 127.0.0.1 - - [11/May/2024 21:54:35] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 21:55:07,836 - INFO - 127.0.0.1 - - [11/May/2024 21:55:07] "POST /auth/logout HTTP/1.1" 200 -
2024-05-11 21:55:20,396 - INFO - 127.0.0.1 - - [11/May/2024 21:55:20] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 21:55:27,633 - ERROR - Failed to subscribe and pull messages: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2024-05-11 21:55:27,634 - INFO - 127.0.0.1 - - [11/May/2024 21:55:27] "[35m[1mGET /messages/subscribe HTTP/1.1[0m" 500 -
2024-05-11 22:20:48,548 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 22:20:48,549 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 22:22:53,363 - INFO - 127.0.0.1 - - [11/May/2024 22:22:53] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 22:23:05,486 - ERROR - Failed to publish message: [Errno 400 Client Error: Bad Request for url: https://www.googleapis.com/identitytoolkit/v3/relyingparty/getAccountInfo?key=AIzaSyDd9YRWul2zoxW4l3SNw1Pso_S5ajE4bys] {
  "error": {
    "code": 400,
    "message": "INVALID_ID_TOKEN",
    "errors": [
      {
        "message": "INVALID_ID_TOKEN",
        "domain": "global",
        "reason": "invalid"
      }
    ]
  }
}

2024-05-11 22:23:05,489 - INFO - 127.0.0.1 - - [11/May/2024 22:23:05] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 22:27:19,209 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-11 22:27:19,209 - INFO - [33mPress CTRL+C to quit[0m
2024-05-11 22:27:26,916 - INFO - 127.0.0.1 - - [11/May/2024 22:27:26] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 22:27:32,125 - ERROR - Failed to publish message: [Errno 400 Client Error: Bad Request for url: https://www.googleapis.com/identitytoolkit/v3/relyingparty/getAccountInfo?key=AIzaSyDd9YRWul2zoxW4l3SNw1Pso_S5ajE4bys] {
  "error": {
    "code": 400,
    "message": "INVALID_ID_TOKEN",
    "errors": [
      {
        "message": "INVALID_ID_TOKEN",
        "domain": "global",
        "reason": "invalid"
      }
    ]
  }
}

2024-05-11 22:27:32,130 - INFO - 127.0.0.1 - - [11/May/2024 22:27:32] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 22:31:12,482 - ERROR - Failed to publish message: [Errno 400 Client Error: Bad Request for url: https://www.googleapis.com/identitytoolkit/v3/relyingparty/getAccountInfo?key=AIzaSyDd9YRWul2zoxW4l3SNw1Pso_S5ajE4bys] {
  "error": {
    "code": 400,
    "message": "INVALID_ID_TOKEN",
    "errors": [
      {
        "message": "INVALID_ID_TOKEN",
        "domain": "global",
        "reason": "invalid"
      }
    ]
  }
}

2024-05-11 22:31:12,484 - INFO - 127.0.0.1 - - [11/May/2024 22:31:12] "[35m[1mPOST /messages/publish HTTP/1.1[0m" 500 -
2024-05-11 22:32:11,450 - INFO - Message published to Pub/Sub: 11111758909111866
2024-05-11 22:32:12,060 - INFO - Message saved to Firestore with ID: j9EPmt8o8pmrEXdYZhW8
2024-05-11 22:32:12,060 - INFO - 127.0.0.1 - - [11/May/2024 22:32:12] "POST /messages/publish HTTP/1.1" 200 -
2024-05-11 22:32:49,450 - INFO - 127.0.0.1 - - [11/May/2024 22:32:49] "POST /auth/logout HTTP/1.1" 200 -
2024-05-11 22:33:22,516 - INFO - 127.0.0.1 - - [11/May/2024 22:33:22] "POST /auth/login HTTP/1.1" 200 -
2024-05-11 22:34:19,134 - INFO - Processed message: {'message': 'How are you', 'timestamp': '2024-05-11T22:32:10.935119'}
2024-05-11 22:34:19,256 - INFO - Acknowledged 1 messages.
2024-05-11 22:34:19,256 - INFO - 127.0.0.1 - - [11/May/2024 22:34:19] "GET /messages/subscribe HTTP/1.1" 200 -
2024-05-12 00:29:42,604 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2024-05-12 00:29:42,605 - INFO - [33mPress CTRL+C to quit[0m
2024-05-12 00:29:48,322 - INFO - 127.0.0.1 - - [12/May/2024 00:29:48] "POST /auth/login HTTP/1.1" 200 -
2024-05-12 01:27:03,356 - INFO - Message published to Pub/Sub: 9519258655917186
2024-05-12 01:27:04,084 - INFO - Message saved to Firestore with ID: usZvYZYuc7W8P12tFpDU
2024-05-12 01:27:30,965 - INFO - Message published to Pub/Sub: 9519266753198725
2024-05-12 01:27:31,637 - INFO - Message saved to Firestore with ID: pZdIo6rD8bAUC8LRyJde
2024-05-12 01:27:33,040 - INFO - Message published to Pub/Sub: 11113246179547817
2024-05-12 01:27:33,093 - INFO - Message saved to Firestore with ID: VfUZjtsRin6e4xA1aSwX
2024-05-12 01:38:11,872 - INFO - Message published to Pub/Sub: 9519258656747508
2024-05-12 01:38:12,531 - INFO - Message saved to Firestore with ID: GUXUEKeQTk6x3pGeDbaz
2024-05-12 01:39:40,512 - INFO - Message published to Pub/Sub: 11113386032685082
2024-05-12 01:39:41,188 - INFO - Message saved to Firestore with ID: 34zTk1VfC4otoBkAYfjq
2024-05-12 01:41:09,935 - INFO - Message published to Pub/Sub: 11113141710099877
2024-05-12 01:41:10,624 - INFO - Message saved to Firestore with ID: cd247oQzQCPiSUFX6VWI
2024-05-12 01:43:18,440 - INFO - Message published to Pub/Sub: 11112765017966512
2024-05-12 01:43:19,071 - INFO - Message saved to Firestore with ID: CPJguOOyp40mZYPSfZTK
2024-05-12 11:01:15,720 - INFO - Message published to Pub/Sub: 11069043954326843
2024-05-12 11:01:17,498 - INFO - Message saved to Firestore with ID: XW70v3r4dzfuzhlbnqvo
2024-05-12 12:31:36,298 - INFO - Message published to Pub/Sub: 11069560249745948
2024-05-12 12:31:38,133 - INFO - Message saved to Firestore with ID: T2DKTfGUGFFQCTcycZgM
2024-05-12 21:34:51,928 - INFO - Message published to Pub/Sub: 11121264107633545
2024-05-12 21:34:52,516 - INFO - Message saved to Firestore with ID: xfcLsoLlkgfBLAs5COAD
2024-05-12 21:35:31,938 - INFO - Message published to Pub/Sub: 11121224902593022
2024-05-12 21:35:32,555 - INFO - Message saved to Firestore with ID: o4CnB2F8IrjeIjHIOBeg
2024-05-12 21:36:28,451 - INFO - Message published to Pub/Sub: 11121265335381419
2024-05-12 21:36:29,435 - INFO - Message saved to Firestore with ID: HCE7Cse9hYskIDKMJWc7
2024-05-12 21:38:23,231 - INFO - Message published to Pub/Sub: 11121277062300193
2024-05-12 21:38:23,796 - INFO - Message saved to Firestore with ID: Z8sgASyLWaHxu0SVPxee
2024-05-12 21:44:19,700 - INFO - Message published to Pub/Sub: 9544854263694855
2024-05-12 21:44:20,293 - INFO - Message saved to Firestore with ID: yyGrk3auW2yQPtwHFqb4
